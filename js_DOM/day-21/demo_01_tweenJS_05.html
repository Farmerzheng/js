<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<style>
.box {
  position: absolute;
  left: 0;
  top: 0;
  width: 100px;
  height: 100px;
  background-color: red;
}

.btn {
  float: right;
}
</style>

<body>
  <div class="box"></div>
  <button class="btn">开始</button>
  <script src="requestAnimationFrame.js"></script>
  <script src="tween_basic.js"></script>
  <script>
  /*
                      面向过程开发
                      c : 距离的增量
                      b : 初始的位置
                      d : 终止时刻
                      t : 开始时刻
                    */

  /*
    全局的变量、全局的函数在哪里都能够被访问到
  */
  let btn = document.querySelector(".btn");
  let box = document.querySelector(".box"); 
  let moveBoolean = false;

  btn.addEventListener("click", btnClickHandler);

// Move 是我们自己封装的动画函数
  function btnClickHandler() {
    moveBoolean  = true;
    // Move.init(box, 200, 500, 10,"Tween.Bounce.easeOut");
    // box, start, iTarget, speed,animate
    Move.init({
     box:box,
     start:200,
     iTarget:500,
     speed:10,
     animate:"Tween.Bounce.easeOut"
    })
  }
  // 创建一个永动机
  animation();
  function animation() {
    requestAnimationFrame(animation);
    // 永动机里面调用更新盒子的函数
    if(moveBoolean){
       Move.update();
     }   
  }
  </script>
</body>

</html>